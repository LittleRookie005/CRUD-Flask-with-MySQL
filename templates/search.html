<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<h2>DATA MAHASISWA</h2>
				<br>
				<div class="input-group">
					<form action="/search" method="POST">
				  <input type="search"  name="search" class="form-control rounded" placeholder="Search" aria-label="Search"
				    aria-describedby="search-addon" />
				</form>
				</div>
				<br><br>
				<table class="table table-striped">
				    <thead>
				      <tr>
				      	<th>No</th>
				        <th>NIM</th>
				        <th>Nama</th>
				        <th>Alamat</th>
				        <th>Program Studi</th>
				        <th>AKSI</th>
				      </tr>
				    </thead>
				    <tbody>
				    	{% for row in data %}
				    	<tr>
				    		<td>{{ row.0 }}</td>
					        <td>{{ row.1 }}</td>
					        <td>{{ row.2 }}</td>
					        <td>{{ row.3 }}</td>
					        <td>{{ row.4 }}</td>
					        <td>
					        	<a href="#!" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modalEdit{{ row.0 }}">Edit</a>
					        	<a href="/hapus/{{ row.0 }}" class="btn btn-danger btn-xs" onclick="return confirm('Yakin ingin dihapus?')">Hapus</a>
					        </td>
				     	</tr>
				     	<div id="modalEdit{{ row.0 }}" class="modal fade" role="dialog">
				     		<div class="modal-dialog">
				     			<!-- Modal content-->
				     			<div class="modal-content">
				     				<div class="modal-header">
				     					<button type="button" class="close" data-dismiss="modal">&times;</button>
				     					<h4 class="modal-title">Edit Data Mahasiswa</h4>
				     				</div>
				     				<div class="modal-body">
				     					<form action="{{ url_for('update') }}" method="POST">
				     						<div class="form-group">
				     							<label> NIM:</label>
				     							<input type="hidden" name="no" value="{{ row.0 }}">
				     							<input type="text" class="form-control" name="nim" value="{{ row.1 }}">
				     						</div>
				     						<div class="form-group">
				     							<label>Nama:</label>
				     							<input type="hidden" name="no" value="{{ row.0 }}">
				     							<input type="text" class="form-control" name="nama" value="{{ row.2 }}">
				     						</div>
				     						<div class="form-group">
				     							<label>Alamat:</label>
				     							<input type="hidden" name="no" value="{{ row.0 }}">
				     							<input type="text" class="form-control" name="alamat" value="{{ row.3 }}">
				     						</div>
				     						<div class="form-group">
				     							<label>Program Studi:</label>
				     							<input type="hidden" name="no" value="{{ row.0 }}">
				     							<input type="text" class="form-control" name="prodi" value="{{ row.4 }}">
				     						</div>
				     						<div class="form-group">
				     							<button type="submit" class="btn btn-warning">SIMPAN</button>
				     						</div>
				     					</form>
				     				</div>
				     				<div class="modal-footer">
				     					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				     				</div>
				     			</div>
				     		</div>
				     	</div>	
				     	{% endfor %}
				    </tbody>
				</table>
			</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
</body>
</html>